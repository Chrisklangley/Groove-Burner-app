{"ast":null,"code":"import _regeneratorRuntime from\"/Users/christopherlangley/react-projects/Specs-Capstone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/christopherlangley/react-projects/Specs-Capstone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/christopherlangley/react-projects/Specs-Capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./Homepage.css\";import PlaylistCard from\"./PlaylistCard\";import Cookies from\"js-cookie\";import axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Homepage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),playlistData=_useState2[0],setPlaylistData=_useState2[1];var _useState3=useState(\"vibes\"),_useState4=_slicedToArray(_useState3,2),genre=_useState4[0],setGenre=_useState4[1];var options={method:\"GET\",url:\"https://spotify23.p.rapidapi.com/search/\",params:{q:genre,type:\"playlists\",offset:\"0\",limit:\"20\",numberOfTopResults:\"5\"},headers:{\"X-RapidAPI-Key\":\"74233648d1msha948e959543800ep130f18jsn35b79b171aee\",\"X-RapidAPI-Host\":\"spotify23.p.rapidapi.com\"}};var authState=Cookies.get(\"_auth_state\");var _ref=JSON.parse(authState)||{},name=_ref.name;var greeting=name?\"Hello, \".concat(name,\"!\"):\"Hello!\";var getPlaylist=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(options);case 3:response=_context.sent;setPlaylistData(response.data.playlists.items);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getPlaylist(){return _ref2.apply(this,arguments);};}();useEffect(function(){getPlaylist();},[genre]);return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"home-title\",children:[greeting,\" before we get a groove on let's try to find your vibe from one of these awesome curated playlists\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"subtitle\",children:\"Once you're ready, click \\\"Start a Groovelist\\\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"genre-change\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Change the vibe\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"genre\",id:\"\",onChange:function onChange(e){return setGenre(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"pop\",children:\"Pop\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hip hop\",children:\"Hip-Hop\"}),/*#__PURE__*/_jsx(\"option\",{value:\"R&B/soul\",children:\"R&B/soul\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Electronic/dance\",children:\"Electronic/dance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Jazz\",children:\"Jazz\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Classical\",children:\"Classical\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"glist-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"glist\",children:playlistData.map(function(playlist,i){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PlaylistCard,{playlistData:playlist})},i);})})})]});}export default Homepage;","map":{"version":3,"names":["React","useState","useEffect","PlaylistCard","Cookies","axios","jsxs","_jsxs","jsx","_jsx","Homepage","_useState","_useState2","_slicedToArray","playlistData","setPlaylistData","_useState3","_useState4","genre","setGenre","options","method","url","params","q","type","offset","limit","numberOfTopResults","headers","authState","get","_ref","JSON","parse","name","greeting","concat","getPlaylist","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","data","playlists","items","t0","console","log","stop","apply","arguments","className","children","id","onChange","e","target","value","map","playlist","i"],"sources":["/Users/christopherlangley/react-projects/Specs-Capstone/src/components/Homepage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Homepage.css\";\nimport PlaylistCard from \"./PlaylistCard\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\n\nfunction Homepage() {\n  const [playlistData, setPlaylistData] = useState([]);\n  const [genre, setGenre] = useState(\"vibes\");\n\n  const options = {\n    method: \"GET\",\n    url: \"https://spotify23.p.rapidapi.com/search/\",\n    params: {\n      q: genre,\n      type: \"playlists\",\n      offset: \"0\",\n      limit: \"20\",\n      numberOfTopResults: \"5\",\n    },\n    headers: {\n      \"X-RapidAPI-Key\": \"74233648d1msha948e959543800ep130f18jsn35b79b171aee\",\n      \"X-RapidAPI-Host\": \"spotify23.p.rapidapi.com\",\n    },\n  };\n\n  let authState = Cookies.get(\"_auth_state\");\n  const { name } = JSON.parse(authState) || {};\n  const greeting = name ? `Hello, ${name}!` : \"Hello!\";\n\n  const getPlaylist = async () => {\n    try {\n      const response = await axios(options);\n      setPlaylistData(response.data.playlists.items);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getPlaylist();\n  }, [genre]);\n\n  return (\n    <div className=\"homepage\">\n      <h1 className=\"home-title\">\n        {greeting} before we get a groove on let's try to find your vibe from\n        one of these awesome curated playlists\n      </h1>\n      <h2 className=\"subtitle\">\n        Once you're ready, click \"Start a Groovelist\"\n      </h2>\n      <div className=\"genre-change\">\n        <h4>Change the vibe</h4>\n        <select name=\"genre\" id=\"\" onChange={(e) => setGenre(e.target.value)}>\n          <option value=\"pop\">Pop</option>\n          <option value=\"Hip hop\">Hip-Hop</option>\n          <option value=\"R&B/soul\">R&B/soul</option>\n          <option value=\"Electronic/dance\">Electronic/dance</option>\n          <option value=\"Jazz\">Jazz</option>\n          <option value=\"Classical\">Classical</option>\n        </select>\n      </div>\n\n      <div className=\"glist-container\">\n        <div className=\"glist\">\n          {playlistData.map((playlist, i) => (\n            <div key={i}>\n              <PlaylistCard playlistData={playlist} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Homepage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}