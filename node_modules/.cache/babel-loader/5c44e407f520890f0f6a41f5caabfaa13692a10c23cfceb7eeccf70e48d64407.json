{"ast":null,"code":"import _slicedToArray from\"/Users/christopherlangley/react-projects/Specs-Capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./FinalCover.css\";import axios from\"axios\";import Cookies from\"js-cookie\";import{useSignOut}from\"react-auth-kit\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function DisplayFinalCover(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coverArt=_useState2[0],setCoverArt=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),trackList=_useState4[0],setTrackList=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),groovelistCount=_useState6[0],setgroovelistCount=_useState6[1];var signOut=useSignOut();var navigate=useNavigate();var logOut=function logOut(){signOut();navigate(\"/\");};var authState=Cookies.get(\"_auth_state\");var email=JSON.parse(authState).email;var getCoverPlusTitle=function getCoverPlusTitle(){axios.get(\"http://localhost:4838/getCover/\".concat(email)).then(function(res){setCoverArt(res.data);}).catch(function(err){return console.error(err);});};var getTrackList=function getTrackList(){axios.get(\"http://localhost:4838/getTrackList/\".concat(email)).then(function(res){console.log(res.data);setTrackList(res.data);console.log(trackList);}).catch(function(err){return console.error(err);});};useEffect(function(){getCoverPlusTitle();getTrackList();},[]);var results=trackList.map(function(track){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"final-songs\",children:[\" \",groovelistCount++,\" \",track.groovelist_song]})},track.groovelist_id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"final-title\",children:\"Here is your Groovelist!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"your-grooveList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"your-cover\",children:[/*#__PURE__*/_jsx(\"img\",{src:coverArt.groovelist_img,alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:coverArt.groovelist_title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"your-tracklist\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Track List\"}),results]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"logOut\",children:/*#__PURE__*/_jsx(\"button\",{onClick:logOut,children:\"log out\"})})]});}export default DisplayFinalCover;","map":{"version":3,"names":["React","useState","useEffect","axios","Cookies","useSignOut","useNavigate","jsxs","_jsxs","jsx","_jsx","DisplayFinalCover","_useState","_useState2","_slicedToArray","coverArt","setCoverArt","_useState3","_useState4","trackList","setTrackList","_useState5","_useState6","groovelistCount","setgroovelistCount","signOut","navigate","logOut","authState","get","email","JSON","parse","getCoverPlusTitle","concat","then","res","data","catch","err","console","error","getTrackList","log","results","map","track","children","className","groovelist_song","groovelist_id","src","groovelist_img","alt","groovelist_title","onClick"],"sources":["/Users/christopherlangley/react-projects/Specs-Capstone/src/components/DisplayFinalCover.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FinalCover.css\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { useSignOut } from \"react-auth-kit\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction DisplayFinalCover() {\n  const [coverArt, setCoverArt] = useState([]);\n  const [trackList, setTrackList] = useState([]);\n  let [groovelistCount, setgroovelistCount] = useState(1);\n  const signOut = useSignOut();\n  const navigate = useNavigate();\n\n  const logOut = () => {\n    signOut();\n    navigate(\"/\");\n  };\n\n  let authState = Cookies.get(\"_auth_state\");\n  let email = JSON.parse(authState).email;\n  const getCoverPlusTitle = () => {\n    axios\n      .get(`http://localhost:4838/getCover/${email}`)\n      .then((res) => {\n        setCoverArt(res.data);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const getTrackList = () => {\n    axios\n      .get(`http://localhost:4838/getTrackList/${email}`)\n      .then((res) => {\n        console.log(res.data);\n        setTrackList(res.data);\n        console.log(trackList);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  useEffect(() => {\n    getCoverPlusTitle();\n    getTrackList();\n  }, []);\n\n  const results = trackList.map((track) => {\n    return (\n      <div key={track.groovelist_id}>\n        <p className=\"final-songs\">\n          {\" \"}\n          {groovelistCount++} {track.groovelist_song}\n        </p>\n      </div>\n    );\n  });\n\n  return (\n    <div>\n      <h1 className=\"final-title\">Here is your Groovelist!</h1>\n      <div className=\"your-grooveList\">\n        <div className=\"your-cover\">\n          <img src={coverArt.groovelist_img} alt=\"\" />\n          <h3>{coverArt.groovelist_title}</h3>\n        </div>\n        <div className=\"your-tracklist\">\n          <h3>Track List</h3>\n          {results}\n        </div>\n      </div>\n      <div className=\"logOut\">\n        <button onClick={logOut}>log out</button>\n      </div>\n    </div>\n  );\n}\n\nexport default DisplayFinalCover;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}