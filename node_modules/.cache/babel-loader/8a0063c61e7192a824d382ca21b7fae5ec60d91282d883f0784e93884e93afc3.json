{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport default function UseAuth(code) {\n  _s();\n  const [accessToken, setAccessToken] = useState();\n  const [refreshToken, setRefreshToken] = useState();\n  const [expiresIn, setExpiresIn] = useState();\n  useEffect(() => {\n    axios.post(\"http://localhost:4838/auth\", {\n      code: code\n    }).then(res => {\n      setAccessToken(res.data.accessToken);\n      setRefreshToken(res.data.refreshToken);\n      setExpiresIn(res.data.expiresIn);\n      window.history.pushState({}, null, \"/\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [code]);\n  useEffect(() => {\n    axios.post(\"http://localhost:4838/refresh\", {\n      refreshToken\n    }).then(res => {\n      setAccessToken(res.data.accessToken);\n      setRefreshToken(res.data.refreshToken);\n      setExpiresIn(res.data.expiresIn);\n      window.history.pushState({}, null, \"/\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [refreshToken, expiresIn]);\n  return accessToken;\n}\n_s(UseAuth, \"E9KOao32uIhQ/xJLaKV8nLvpvcw=\");\n_c = UseAuth;\nvar _c;\n$RefreshReg$(_c, \"UseAuth\");","map":{"version":3,"names":["React","useState","useEffect","axios","UseAuth","code","_s","accessToken","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","post","then","res","data","window","history","pushState","catch","err","console","log","_c","$RefreshReg$"],"sources":["/Users/christopherlangley/react-projects/Specs-Capstone/client/src/SpotifyAuth/UseAuth.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport default function UseAuth(code) {\n  const [accessToken, setAccessToken] = useState();\n  const [refreshToken, setRefreshToken] = useState();\n  const [expiresIn, setExpiresIn] = useState();\n\n  useEffect(() => {\n    axios\n      .post(\"http://localhost:4838/auth\", { code: code })\n      .then((res) => {\n        setAccessToken(res.data.accessToken);\n        setRefreshToken(res.data.refreshToken);\n        setExpiresIn(res.data.expiresIn);\n        window.history.pushState({}, null, \"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [code]);\n  useEffect(() => {\n    axios\n      .post(\"http://localhost:4838/refresh\", { refreshToken })\n      .then((res) => {\n        setAccessToken(res.data.accessToken);\n        setRefreshToken(res.data.refreshToken);\n        setExpiresIn(res.data.expiresIn);\n        window.history.pushState({}, null, \"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [refreshToken, expiresIn]);\n  return accessToken;\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,eAAe,SAASC,OAAOA,CAACC,IAAI,EAAE;EAAAC,EAAA;EACpC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,EAAE;EAChD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,EAAE;EAClD,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,EAAE;EAE5CC,SAAS,CAAC,MAAM;IACdC,KAAK,CACFU,IAAI,CAAC,4BAA4B,EAAE;MAAER,IAAI,EAAEA;IAAK,CAAC,CAAC,CAClDS,IAAI,CAAEC,GAAG,IAAK;MACbP,cAAc,CAACO,GAAG,CAACC,IAAI,CAACT,WAAW,CAAC;MACpCG,eAAe,CAACK,GAAG,CAACC,IAAI,CAACP,YAAY,CAAC;MACtCG,YAAY,CAACG,GAAG,CAACC,IAAI,CAACL,SAAS,CAAC;MAChCM,MAAM,CAACC,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC;IACzC,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC,EAAE,CAAChB,IAAI,CAAC,CAAC;EACVH,SAAS,CAAC,MAAM;IACdC,KAAK,CACFU,IAAI,CAAC,+BAA+B,EAAE;MAAEJ;IAAa,CAAC,CAAC,CACvDK,IAAI,CAAEC,GAAG,IAAK;MACbP,cAAc,CAACO,GAAG,CAACC,IAAI,CAACT,WAAW,CAAC;MACpCG,eAAe,CAACK,GAAG,CAACC,IAAI,CAACP,YAAY,CAAC;MACtCG,YAAY,CAACG,GAAG,CAACC,IAAI,CAACL,SAAS,CAAC;MAChCM,MAAM,CAACC,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC;IACzC,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC,EAAE,CAACZ,YAAY,EAAEE,SAAS,CAAC,CAAC;EAC7B,OAAOJ,WAAW;AACpB;AAACD,EAAA,CAhCuBF,OAAO;AAAAoB,EAAA,GAAPpB,OAAO;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}